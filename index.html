<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Plug-N-Dump™</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <!-- Custom Title Bar -->
    <div class="custom-titlebar">
      <div class="titlebar-drag-area">
        <div class="titlebar-title">
          <img src="icon-192.png" alt="Echo Corp" class="titlebar-icon">
          <span>Plug-N-Dump™</span>
        </div>
      </div>
      <div class="titlebar-controls">
        <button class="titlebar-button settings-button" id="settings-btn" title="Settings">
          <span>⚙️</span>
        </button>
        <button class="titlebar-button minimize-button" id="minimize-btn" title="Minimize to Tray">
          <span>−</span>
        </button>
        <button class="titlebar-button close-button" id="close-btn" title="Close">
          <span>×</span>
        </button>
      </div>
    </div>

    <!-- Settings Panel -->
    <div class="settings-panel" id="settings-panel">
      <div class="settings-header">
        <h3>Settings</h3>
        <button class="close-settings-btn" id="close-settings-btn">×</button>
      </div>
      <div class="settings-content">
        <div class="setting-item">
          <label class="setting-label">
            <input type="checkbox" id="auto-extract-checkbox" class="setting-checkbox">
            <span class="checkmark"></span>
            Auto-extract when flight controller detected
          </label>
          <p class="setting-description">Automatically start extraction when a flight controller is plugged in</p>
        </div>
        <div class="setting-item">
          <label class="setting-label">
            <input type="checkbox" id="minimize-to-tray-checkbox" class="setting-checkbox" checked>
            <span class="checkmark"></span>
            Minimize to system tray
          </label>
          <p class="setting-description">Hide in system tray when minimized instead of taskbar</p>
        </div>
        <div class="setting-item">
          <label class="setting-label">
            <input type="checkbox" id="run-on-startup-checkbox" class="setting-checkbox">
            <span class="checkmark"></span>
            Run on Windows startup
          </label>
          <p class="setting-description">Automatically start Plug-N-Dump when Windows boots up</p>
        </div>
      </div>
    </div>

    <!-- Removed old data stream background effect -->
    
    <div class="container">
      <div class="header">
        <div class="brand-section">
          <img src="icon-192.png" alt="Echo Corp FPV Nexus" class="app-icon">
          <div class="brand-text">
            <h1 class="app-title">Plug-N-Dump™</h1>
            <p class="brand-subtitle">By ECHO CORP.</p>
          </div>
        </div>
      </div>
      
      <!-- Flight Controller Specifications -->
      <div class="specifications-section">
        <h2 class="section-title">
          FLIGHT CONTROLLER SPECIFICATIONS
        </h2>
        <div class="spec-grid">
          <div class="spec-card firmware">
            <div class="card-header">
              <h3>FIRMWARE</h3>
              <div class="status-dot"></div>
            </div>
            <div class="card-content">
              <div class="main-value" id="firmware-version">Detecting...</div>
              <div class="sub-value" id="firmware-date">Scanning ports</div>
            </div>
          </div>
          
          <div class="spec-card board">
            <div class="card-header">
              <h3>BOARD</h3>
              <div class="status-dot"></div>
            </div>
            <div class="card-content">
              <div class="main-value" id="board-name">Unknown</div>
              <div class="sub-value" id="board-id">Flight Controller</div>
            </div>
          </div>
          
          <div class="spec-card pilot">
            <div class="card-header">
              <h3>PILOT</h3>
              <div class="status-dot"></div>
            </div>
            <div class="card-content">
              <div class="main-value" id="pilot-name">Unknown</div>
              <div class="sub-value">Flight Controller</div>
            </div>
          </div>
          
          <div class="spec-card file">
            <div class="card-header">
              <h3>STATUS</h3>
              <div class="status-dot"></div>
            </div>
            <div class="card-content">
              <div class="main-value" id="connection-status">STANDBY</div>
              <div class="sub-value" id="port-info">Awaiting connection</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Operations Section -->
      <div class="operations-section">
        <h2 class="section-title">
          PLUG-N-DUMP™ EXTRACTION PROTOCOL
        </h2>
        
        <div class="operation-status">
          <!-- Professional Progress Indicator -->
          <div class="progress-indicator-container">
            <ul class="progress-steps">
              <li class="progress-step" data-step="connect">
                <div class="step-icon"></div>
                <span class="step-label" data-label-extract="Connect" data-label-clear="Connect">Connect</span>
              </li>
              <li class="progress-step" data-step="cli">
                <div class="step-icon"></div>
                <span class="step-label" data-label-extract="CLI Mode" data-label-clear="CLI Mode">CLI Mode</span>
              </li>
              <li class="progress-step" data-step="dump">
                <div class="step-icon"></div>
                <span class="step-label" data-label-extract="Extract Dump" data-label-clear="Send Command">Extract Dump</span>
              </li>
              <li class="progress-step" data-step="msc">
                <div class="step-icon"></div>
                <span class="step-label" data-label-extract="MSC Mode" data-label-clear="Confirm">MSC Mode</span>
              </li>
              <li class="progress-step" data-step="copy">
                <div class="step-icon"></div>
                <span class="step-label" data-label-extract="Copy Files" data-label-clear="">Copy Files</span>
              </li>
              <li class="progress-step" data-step="complete">
                <div class="step-icon"></div>
                <span class="step-label" data-label-extract="Complete" data-label-clear="Complete">Complete</span>
              </li>
            </ul>
          </div>
        </div>
        
        <div class="button-container">
          <button id="extract-btn" disabled>
            <span>INITIATE EXTRACTION</span>
          </button>
          
          <button id="open-logs-btn" class="secondary-button" style="display: none;">
            <span>OPEN LOGS FOLDER</span>
          </button>
          
          <button id="restart-btn" class="restart-button">
            <span>RESET PROTOCOL</span>
          </button>
        </div>
        <div class="button-container" style="margin-top: 15px;">
          <button id="clear-logs-btn" class="danger-button" disabled>
            <span>CLEAR BLACKBOX LOGS</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Custom Dialog Overlay -->
    <div class="dialog-overlay" id="dialog-overlay">
      <div class="custom-dialog" id="custom-dialog">
        <div class="dialog-header">
          <h3 id="dialog-title">Dialog Title</h3>
          <div class="dialog-icon" id="dialog-icon">?</div>
        </div>
        <div class="dialog-content">
          <p id="dialog-message">Dialog message content</p>
          <p id="dialog-detail" class="dialog-detail"></p>
        </div>
        <div class="dialog-buttons">
          <button class="dialog-btn primary" id="dialog-btn-primary">Yes</button>
          <button class="dialog-btn secondary" id="dialog-btn-secondary">No</button>
        </div>
      </div>
    </div>
    
    <script src="./renderer.js"></script>
  </body>
</html>
